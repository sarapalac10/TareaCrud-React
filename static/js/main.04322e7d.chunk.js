(this.webpackJsonpejerciciohooks=this.webpackJsonpejerciciohooks||[]).push([[0],{48:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(23),a=n.n(i),r=n(7),o=n(2),s=n(10),j=n(13),l=n(5),d=n(6),u=n.n(d),b=n(14),h=n.n(b),O=n(24),x=function(){var e=Object(O.a)(h.a.mark((function e(t){var n,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.Cloudinary.com/v1_1/sarapalacio01/image/upload",(n=new FormData).append("upload_preset","uploadacademiageek"),n.append("file",t),e.next=6,fetch("https://api.Cloudinary.com/v1_1/sarapalacio01/image/upload",{method:"POST",body:n});case 6:return c=e.sent,e.next=9,c.json();case 9:return i=e.sent,console.log(i),e.abrupt("return",i.secure_url);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p="https://crud-tarea.herokuapp.com/registros/",m=(n(48),n(0)),v=function(){var e=Object(c.useState)({id:"",titulo:"",autor:"",genero:"",editorial:"",usuario:"",prestamo:" ",devolucion:"",imagen:""}),t=Object(l.a)(e,2),n=t[0],i=t[1],a=(n.id,n.titulo),r=n.autor,o=n.genero,d=n.editorial,b=n.usuario,h=n.prestamo,O=n.devolucion,v=n.imagen,f=function(e){var t=e.target;i(Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},t.name,t.value)))};return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{id:"formulario",onSubmit:function(e){e.preventDefault(),alert("SE HA REGISTRADO")},children:[Object(m.jsx)("h2",{children:"Registro Pr\xe9stamo de Libros"}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"T\xedtulo"}),Object(m.jsx)("input",{id:"inputTitulo",name:"titulo",onChange:f,value:a})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"Autor"}),Object(m.jsx)("input",{id:"inputAutor",name:"autor",onChange:f,value:r})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"G\xe9nero"}),Object(m.jsx)("input",{id:"inputGenero",name:"genero",onChange:f,value:o})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"Editorial"}),Object(m.jsx)("input",{id:"inputEditorial",name:"editorial",onChange:f,value:d})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"Usuario"}),Object(m.jsx)("input",{id:"inputUsuario",name:"usuario",onChange:f,value:b})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"Fecha Pr\xe9stamo"}),Object(m.jsx)("input",{id:"inputPrestamo",type:"date",name:"prestamo",onChange:f,value:h})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"Fecha Devoluci\xf3n"}),Object(m.jsx)("input",{id:"inputDevolucion",type:"date",name:"devolucion",onChange:f,value:O})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{children:"Imagen"}),Object(m.jsx)("input",{id:"botonImagen",type:"file",name:"imagen",onChange:function(e){console.log(e.target.files);var t=e.target.files[0];x(t).then((function(e){n.imagen=e})).catch((function(e){console.log(e)}))},value:v})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{id:"btnRegistro",onClick:function(){u.a.post(p,n).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},children:"Enviar"})})]})})},f=(n(50),function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],a=function(){u.a.get(p).then((function(e){i(e.data)})).catch((function(e){console.log(e)}))};return Object(c.useEffect)((function(){a()}),[]),Object(m.jsx)("div",{children:Object(m.jsxs)("table",{className:"tabla",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"T\xedtulo"}),Object(m.jsx)("th",{children:"Autor"}),Object(m.jsx)("th",{children:"G\xe9nero"}),Object(m.jsx)("th",{children:"Editorial"}),Object(m.jsx)("th",{children:"Usuario"}),Object(m.jsx)("th",{children:"Fecha Pr\xe9stamo"}),Object(m.jsx)("th",{children:"Fecha Devoluci\xf3n"}),Object(m.jsx)("th",{children:"Imagen"}),Object(m.jsx)("th",{children:"Acci\xf3n"})]})}),Object(m.jsx)("tbody",{children:n.map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.titulo}),Object(m.jsx)("td",{children:e.autor}),Object(m.jsx)("td",{children:e.genero}),Object(m.jsx)("td",{children:e.editorial}),Object(m.jsx)("td",{children:e.usuario}),Object(m.jsx)("td",{children:e.prestamo}),Object(m.jsx)("td",{children:e.devolucion}),Object(m.jsx)("td",{children:Object(m.jsx)("img",{src:e.imagen,alt:""})}),Object(m.jsxs)("td",{children:[" ",Object(m.jsx)("button",{onClick:function(){return t=e.id,void u.a.delete(p+t).then((function(e){a()})).catch((function(e){console.log(e)}));var t},children:"Devolver"})," "]})]},e.id)}))})]})})}),g=(n(51),function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"header",children:Object(m.jsxs)("nav",{children:[Object(m.jsx)(r.b,{className:"link",to:"/",children:"Listado"}),Object(m.jsx)(r.b,{className:"link",to:"/form",children:"Pr\xe9stamo"})]})}),Object(m.jsx)("hr",{})]})}),C=function(){return Object(m.jsx)("div",{children:Object(m.jsxs)(r.a,{children:[Object(m.jsx)(g,{}),Object(m.jsxs)(o.d,{children:[Object(m.jsx)(o.b,{path:"/",element:Object(m.jsx)(f,{})}),Object(m.jsx)(o.b,{path:"/form",element:Object(m.jsx)(v,{})}),Object(m.jsx)(o.b,{path:"/*",element:Object(m.jsx)(o.a,{to:"/"})})]})]})})};a.a.render(Object(m.jsx)(C,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.04322e7d.chunk.js.map